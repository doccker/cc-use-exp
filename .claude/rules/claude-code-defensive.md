# Claude Code é˜²å¾¡æ€§è§„åˆ™

ç‰ˆæœ¬ï¼šv3.0
ä½œè€…ï¼šwwj
æ›´æ–°ï¼š2025-12

> **ä½œç”¨èŒƒå›´**: æ‰€æœ‰é¡¹ç›®
> **å‚è€ƒæ¥æº**: cc-rules v2.6ã€Claude Code ç¤¾åŒºæœ€ä½³å®è·µ

---
paths: "**/*"
---

## èƒŒæ™¯è¯´æ˜

è¿™äº›è§„åˆ™åŸºäº Claude Code ç”¨æˆ·ç¤¾åŒºçš„çœŸå®é—®é¢˜å’Œæœ€ä½³å®è·µæ€»ç»“ï¼Œç›®çš„æ˜¯é¢„é˜²å¸¸è§çš„ AI ç¼–ç é™·é˜±ã€‚

---

## ğŸš« ä¸¥æ ¼ç¦æ­¢çš„è¡Œä¸º

### 1. æµ‹è¯•ç¯¡æ”¹ï¼ˆæœ€ä¸¥é‡é—®é¢˜ï¼‰

**é—®é¢˜**: Claude Code ä¼šä¿®æ”¹æµ‹è¯•æ¥åŒ¹é…é”™è¯¯çš„ä»£ç ï¼Œè€Œä¸æ˜¯ä¿®å¤ä»£ç 

**ç»å¯¹ç¦æ­¢**:
- âŒ ä¿®æ”¹æµ‹è¯•æ–­è¨€æ¥é€‚é…é”™è¯¯å®ç°
- âŒ åˆ é™¤æˆ–æ³¨é‡Šæ‰å¤±è´¥çš„æµ‹è¯•
- âŒ é™ä½æµ‹è¯•æ–­è¨€çš„ä¸¥æ ¼æ€§

**æ­£ç¡®åšæ³•**:
- âœ… æµ‹è¯•å¤±è´¥æ—¶ï¼Œä¿®å¤å®ç°ä»£ç 
- âœ… å¦‚æœè®¤ä¸ºæµ‹è¯•æœ‰é—®é¢˜ï¼Œå…ˆè¯´æ˜åŸå› å¹¶è¯¢é—®

### 2. è¿‡åº¦å·¥ç¨‹åŒ–ï¼ˆé«˜é¢‘é—®é¢˜ï¼‰

**é—®é¢˜**: ç®€å•éœ€æ±‚å˜æˆå¤æ‚ç³»ç»Ÿ

**é˜²å¾¡è§„åˆ™**:
- æ–°å¢åŠŸèƒ½ä¼˜å…ˆä¿®æ”¹ç°æœ‰æ–‡ä»¶ï¼Œæ§åˆ¶åœ¨ 3 ä¸ªæ–‡ä»¶ä»¥å†…
- ç®€å• if/else ä¼˜äºå¤æ‚æŠ½è±¡
- ä¸è¦åˆ›å»º"ç­–ç•¥æ¨¡å¼"ã€"å·¥å‚æ¨¡å¼"ç­‰ï¼Œé™¤éæ˜ç¡®éœ€è¦

### 3. ç›²ç›®ä¿®æ”¹ä»£ç 

**ä¿®æ”¹ä»£ç å‰å¿…é¡»åšçš„æ£€æŸ¥**:
1. æœç´¢ç±»ä¼¼åŠŸèƒ½æ˜¯å¦å·²å­˜åœ¨
2. æ£€æŸ¥æ˜¯å¦æœ‰ç›¸åŒçš„å‡½æ•°/ç±»
3. æŸ¥çœ‹è°ƒç”¨ç‚¹ï¼Œäº†è§£å½±å“èŒƒå›´

### 4. ä¸­é€”æ”¾å¼ƒä»»åŠ¡

**å¿…é¡»éµå®ˆ**:
- åˆ›å»º TODO åˆ—è¡¨åï¼Œå®Œæˆæ‰€æœ‰é¡¹ç›®å†åœæ­¢
- é‡åˆ°å›°éš¾æ—¶ï¼Œè¯´æ˜é—®é¢˜å¹¶è¯·æ±‚å¸®åŠ©ï¼Œä¸è¦ç›´æ¥æ”¾å¼ƒ
- åœ¨å£°ç§°"å®Œæˆ"å‰ï¼ŒéªŒè¯æ‰€æœ‰åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œ

### 5. åˆ é™¤ä¸å½»åº• / ç•™ä¸‹"å¹½çµä»£ç "

**ç»å¯¹ç¦æ­¢**:
- âŒ ç”¨"æ³¨é‡Šæ‰æ—§å®ç°"ä»£æ›¿åˆ é™¤
- âŒ æäº¤è°ƒè¯•æ®‹ç•™: `print`/`console.log`/`debugger`
- âŒ åˆ é™¤åä¸æ¸…ç†è°ƒç”¨ç‚¹ã€é…ç½®ã€æµ‹è¯•

### 6. ä¸»åŠ¨åˆ›å»ºæ–‡æ¡£æ–‡ä»¶

**åªåœ¨æ˜ç¡®è¦æ±‚æ—¶åˆ›å»ºæ–‡æ¡£**ï¼Œä¸è¦ä¸»åŠ¨ç”Ÿæˆ:
- âŒ ä¸­é—´æ€»ç»“æ–‡ä»¶
- âŒ å˜æ›´è¯´æ˜æ–‡æ¡£
- âŒ è§£é‡Šæ€§æ–‡æ¡£

### 7. è‡ªåŠ¨æ·»åŠ å…ƒæ•°æ®

**ç¦æ­¢åœ¨ä»£ç æˆ–æäº¤ä¸­æ·»åŠ **:
- âŒ "Generated with Claude Code" æˆ–ç±»ä¼¼æ ‡è®°
- âŒ AI ç”Ÿæˆå£°æ˜ã€ä½œè€…ç½²å
- âŒ è‡ªåŠ¨æ—¶é—´æˆ³ã€ç‰ˆæœ¬å·ï¼ˆé™¤éç”¨æˆ·è¦æ±‚ï¼‰

**åŸåˆ™**: ç”Ÿæˆçš„å†…å®¹åº”ä¸äººå·¥ç¼–å†™æ— å¼‚ï¼Œæ— ç¼èå…¥ä»£ç åº“

---

## âœ… å¿…é¡»éµå¾ªçš„æµç¨‹

### 1. Type-Firstï¼ˆç±»å‹å…ˆè¡Œï¼‰

åœ¨ç¼–å†™ä¸šåŠ¡é€»è¾‘å‰ï¼Œå…ˆå®šä¹‰æ•°æ®ç»“æ„ï¼š

| è¯­è¨€ | æ“ä½œ |
|------|------|
| Go | å…ˆå®šä¹‰ `struct` å’Œ `interface` |
| TypeScript | å…ˆå®šä¹‰ `interface` æˆ– `type` |
| Java | å…ˆå®šä¹‰ `DTO`/`VO` ç±» |

**ç›®çš„**ï¼šæ¨¡å—é—´é€šä¿¡æœ‰æ˜ç¡®å¥‘çº¦ï¼Œç¼–è¯‘æœŸå‘ç°ç±»å‹ä¸åŒ¹é…

### 2. å¤æ‚ä»»åŠ¡å·¥ä½œæµ

**å¤æ‚ä»»åŠ¡å®šä¹‰**: è¶…è¿‡ 3 ä¸ªæ­¥éª¤ï¼Œæˆ–æ¶‰åŠå¤šä¸ªæ–‡ä»¶

```
æ­¥éª¤1: è¯´æ˜è®¡åˆ’ï¼ˆä¸è¦è·³è¿‡ï¼‰
- åˆ—å‡ºéœ€è¦ä¿®æ”¹çš„æ–‡ä»¶
- è¯´æ˜å®ç°æ€è·¯
- è¯†åˆ«æ½œåœ¨é£é™©

ç­‰å¾…ç”¨æˆ·ç¡®è®¤ â¸ï¸

æ­¥éª¤2: é€æ­¥å®ç°
- å®ç°ç¬¬ä¸€æ­¥
- éªŒè¯åŠŸèƒ½
- ç»§ç»­ä¸‹ä¸€æ­¥

æ­¥éª¤3: å®ŒæˆéªŒè¯
- æ‰€æœ‰æµ‹è¯•é€šè¿‡
- åŠŸèƒ½å·²éªŒè¯
```

### 3. ä¿®æ”¹ä»£ç å‰çš„æ£€æŸ¥æ¸…å•

- [ ] æœç´¢äº†æ˜¯å¦æœ‰ç±»ä¼¼åŠŸèƒ½
- [ ] äº†è§£äº†ç°æœ‰å®ç°çš„æ¨¡å¼
- [ ] ç¡®è®¤ä¸ä¼šç ´åç°æœ‰åŠŸèƒ½
- [ ] çŸ¥é“å¦‚ä½•æµ‹è¯•è¿™ä¸ªä¿®æ”¹

### 4. æäº¤ä»£ç å‰çš„è‡ªæŸ¥

- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ²¡æœ‰ä¿®æ”¹ç°æœ‰æµ‹è¯•ï¼ˆé™¤éæœ‰å……åˆ†ç†ç”±ï¼‰
- [ ] æ²¡æœ‰æ·»åŠ æœªè¦æ±‚çš„åŠŸèƒ½
- [ ] æ²¡æœ‰è°ƒè¯•æ®‹ç•™ä»£ç 
- [ ] TODO åˆ—è¡¨å…¨éƒ¨å®Œæˆ

### 5. LSP ä½¿ç”¨åŸåˆ™ï¼ˆv2.0.67+ï¼‰

LSP å¯ç²¾å‡†å®šä½ä»£ç ï¼ŒèŠ‚çœå¤§é‡ Tokenï¼Œä½†éœ€é¿å…"ç®¡ä¸­çª¥è±¹"ã€‚

**ä¼˜å…ˆç”¨ LSP**ï¼š
- âœ… æŸ¥æ‰¾å‡½æ•°/ç±»çš„å®šä¹‰ä½ç½®
- âœ… æŸ¥æ‰¾æ‰€æœ‰å¼•ç”¨ç‚¹ï¼ˆäº†è§£å½±å“èŒƒå›´ï¼‰
- âœ… å¤§å‹é¡¹ç›®å¿«é€Ÿå¯¼èˆª

**éœ€è¦è¯»å®Œæ•´æ–‡ä»¶**ï¼š
- ç†è§£æ¨¡å—æ•´ä½“æ¶æ„å’Œè®¾è®¡æ¨¡å¼
- æŸ¥çœ‹æ–‡ä»¶é¡¶éƒ¨çš„é…ç½®ã€å¯¼å…¥ã€å…¨å±€å˜é‡
- ç†è§£å‘¨å›´æ³¨é‡Šå’Œä¸Šä¸‹æ–‡é€»è¾‘
- LSP è¿”å› "not found" æˆ–ç»“æœä¸å®Œæ•´æ—¶

**ä½¿ç”¨å‰æ**ï¼š
- ç¡®ä¿é¡¹ç›®ä¾èµ–å·²å®‰è£…ï¼ˆ`npm install` / `go mod download`ï¼‰
- LSP æœåŠ¡å™¨å·²æ­£ç¡®é…ç½®

---

## ğŸ“‚ å¤§æ–‡ä»¶å¤„ç†

å½“é‡åˆ° `File content exceeds maximum allowed tokens` é”™è¯¯æ—¶ï¼š

| ç›®çš„ | æ–¹æ³• |
|------|------|
| æ‰¾ç‰¹å®šå†…å®¹ | `Grep: pattern="functionName"` |
| è¯»ç‰¹å®šåŒºåŸŸ | `Read: offset=150, limit=50` |
| çœ‹æ–‡ä»¶ç»“æ„ | `Read: limit=100` |
| ä¿®æ”¹æŸå¤„ | Grep å®šä½ â†’ Read ä¸Šä¸‹æ–‡ â†’ Edit |

**æ“ä½œç¤ºä¾‹**:
```
# 1. å®šä½ç›®æ ‡ï¼ˆæ‰¾åˆ°è¡Œå·ï¼‰
Grep: pattern="func CreateSite", output_mode="content", -n=true

# 2. è¯»å–ä¸Šä¸‹æ–‡ï¼ˆè¡Œå·é™„è¿‘ 50 è¡Œï¼‰
Read: file_path="file.go", offset=150, limit=50

# 3. ç¼–è¾‘
Edit: old_string="...", new_string="..."
```

---

## ğŸ“ æ²Ÿé€šè§„èŒƒ

### ç®€æ´è¾“å‡º

```
âŒ å¤ªå•°å—¦:
"éå¸¸æ„Ÿè°¢ä½ æå‡ºè¿™ä¸ªé—®é¢˜ï¼è®©æˆ‘è¯¦ç»†è§£é‡Šä¸€ä¸‹..."

âœ… ç®€æ´:
"æˆ‘ä¼šæ·»åŠ  X åŠŸèƒ½ã€‚éœ€è¦ä¿®æ”¹ï¼š
1. file1.go - æ·»åŠ å‡½æ•°
2. file2.go - è°ƒç”¨
å¼€å§‹å®ç°ã€‚"
```

### ä¸ç¡®å®šæ—¶æ˜ç¡®å‘ŠçŸ¥

```
æˆ‘ä¸ç¡®å®š X çš„æœ€ä½³å®ç°æ–¹å¼ï¼š
- æ–¹æ¡ˆ A: [ä¼˜ç¼ºç‚¹]
- æ–¹æ¡ˆ B: [ä¼˜ç¼ºç‚¹]

ä½ å€¾å‘å“ªç§æ–¹æ¡ˆï¼Ÿ
```

---

## ğŸ¯ å†³ç­–åŸåˆ™

### æŠ€æœ¯é€‰å‹
- ä¼˜å…ˆè€ƒè™‘å›¢é˜Ÿç†Ÿæ‚‰åº¦å’Œç»´æŠ¤æˆæœ¬
- é€‰æ‹©ç¤¾åŒºæ´»è·ƒã€æ–‡æ¡£å®Œå–„çš„æ–¹æ¡ˆ
- é¿å…è¿‡åº¦å·¥ç¨‹åŒ–ï¼Œå¤Ÿç”¨å³å¯

### é—®é¢˜æ’æŸ¥
```
1. å¤ç°é—®é¢˜ - ç¡®å®šæœ€å°å¤ç°æ­¥éª¤
2. æå‡ºå‡è®¾ - åˆ—å‡º 2-3 ä¸ªå¯èƒ½åŸå› 
3. éªŒè¯å‡è®¾ - ä¸€æ¬¡åªæ”¹ä¸€ä¸ªå˜é‡
4. ä¿®å¤éªŒè¯ - æœ€å°åŒ–ä¿®å¤ + å›å½’æµ‹è¯•
```

### ç®€çº¦åŸåˆ™
```
ç®€å•æ–¹æ¡ˆ > å¤æ‚æ–¹æ¡ˆ
å¤ç”¨ç°æœ‰ > åˆ›å»ºæ–°çš„
ç›´æ¥å®ç° > æŠ½è±¡å°è£…
```

---

## è§„åˆ™æº¯æºè¦æ±‚

å½“å›å¤æ˜ç¡®å—åˆ°æœ¬è§„åˆ™çº¦æŸæ—¶ï¼Œåœ¨å›å¤æœ«å°¾å£°æ˜ï¼š

```
> ğŸ“‹ æœ¬å›å¤éµå¾ªè§„åˆ™ï¼š`claude-code-defensive.md` - [å…·ä½“ç« èŠ‚]
```
